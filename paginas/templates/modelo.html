{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="{% static 'fotos/PROJETO.ico' %}" type="image/x-icon">
    {% block titulo %}
    <title>Modelo</title>
	{% endblock %}
  
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link href="{% static 'vendor/fontawesome-free/css/all.min.css' %}" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="{% static 'css/sb-admin-2.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="{% static 'css/meu.css' %}">
</head>
<body>
  
    <div id="wrapper">
      {% include 'includes/sidebar.html'%}
    
      <div id="content-wrapper" class="d-flex flex-column">
        <div >
          {% include 'includes/navbar.html'%}
        </div>
          {% block conteudo %}
          <div class="container">
              <h3>Template de Modelo</h3>
              <p>Conteúdo do Site</p>
          </div>
          {% endblock %}
        </div>
      </div>
    </div>

    {% block rodape %}
    <div class="bg-light">
      {% include 'includes/rodape.html'%}    
    </div>
    {% endblock %}
  
    {% block scripts %}

    <!-- Bootstrap core JavaScript-->
    
    <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>

    <script src="{% static 'js/sb-admin-2.min.js' %} "></script>

   
    

    <!-- Bootstrap scripts (jQuery, Popper.js, Bootstrap JS) -->
    <script src="{% static 'js/jquery-3.2.1.slim.min.js' %}"></script>
    <script src="{% static 'js/popper.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/script.js' %}"></script>
    <script src="{% static 'js/meu.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>

      <script>document.addEventListener('DOMContentLoaded', function() {
  // Adicionando um único event listener para toda a tabela
  const table = document.querySelector('.table'); // Seleciona a tabela

  table.addEventListener('click', function(event) {
      // Verifica se o clique foi em um botão de "marcar como lida"
      if (event.target && event.target.classList.contains('btn-success')) {
          const id = event.target.getAttribute('data-id');
          marcarComoLida(id);
      }
  });

  function marcarComoLida(id) {
      // Mudar a cor da linha para indicar que foi lida
      const row = document.getElementById("notificacao_" + id);
      row.style.backgroundColor = "#d3ffd3"; // Cor de fundo para 'lida'

      // Atualizar o status no campo da tabela
      const status = document.getElementById("status_" + id);
      status.textContent = "Lida";

      // Aqui você pode adicionar um AJAX ou redirecionamento para atualizar o status no banco
      // Exemplo: enviar uma requisição para o Django para alterar o status da notificação
  }
});</script>
   {% endblock %}

</body>
</html>
