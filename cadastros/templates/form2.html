{% extends 'modelo.html' %}

{% load static %}

{% block titulo %}
<title>Cadastro de Consulta</title>
{% endblock %}

{% block conteudo %}
<div class="container">
    <h3>{{ Titulo }}</h3>
    <h5>{{ conteudo }}</h5>
    <p class="lead">Preencha todos os campos obrigatórios.</p>

    <hr>

    <div class="row">
        <div class="col-md-6">
            <h4>Dados da Consulta</h4>
            {% for consulta in consultas %}
                <div class="consulta-item">
                    <p><strong>Paciente:</strong> {{ consulta.paciente.nome|default:"N/A" }}</p>
                    <p><strong>Médico:</strong> {{ consulta.medico.nome|default:"N/A" }}</p>
                    <p><strong>Data:</strong> {{ consulta.data|default:"N/A" }}</p>
                    <p><strong>Hospital:</strong> {{ consulta.hospital.nome|default:"N/A" }}</p>
                    <p><strong>Status:</strong> {{ consulta.status|default:"N/A" }}</p>
                </div>
                <hr>
            {% empty %}
                <p>Nenhuma consulta encontrada.</p>
            {% endfor %}
        </div>

        <div class="col-md-6">
            <h4>Dados da Triagem</h4>
            {% for triagem in triagens %}
                <div class="triagem-item">
                    <p><strong>Pressão:</strong> {{ triagem.pressao|default:"N/A" }}</p>
                    <p><strong>Temperatura:</strong> {{ triagem.temperatura|default:"N/A" }}</p>
                    <p><strong>Peso Corporal:</strong> {{ triagem.peso|default:"N/A" }}</p>
                    <p><strong>Glicose:</strong> {{ triagem.glicose|default:"N/A" }}</p>
                </div>
                <hr>
            {% empty %}
                <p>Nenhuma triagem encontrada.</p>
            {% endfor %}
        </div>
    </div>

    <hr>

    <form action="" method="post" class="form-control-lg">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-primary">Cadastrar</button>
    </form>
</div>
{% endblock %}
